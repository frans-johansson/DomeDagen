<html>

<head>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script type="text/javascript" src="./js/script.js"></script>

  <link rel="stylesheet" type="text/css" href="./css/main.css">
  <link rel="stylesheet" type="text/css" href="./css/welcomeScreen.css">
  <link rel="stylesheet" type="text/css" href="./css/waitingScreen.css">
  <link rel="stylesheet" type="text/css" href="./css/gameRunningScreen.css">
  <link rel="stylesheet" type="text/css" href="./css/gameOverScreen.css"> 
  <link rel="stylesheet" type="text/css" href="./css/orientationPrompt.css">

  <link href="https://fonts.googleapis.com/css2?family=Merriweather&family=Roboto&display=swap" rel="stylesheet">

  <meta name="viewport" content="user-scalable=no">
</head>

<body onload="initialize()">

  <div class="hidden" id="promptBackground"></div>
  <div class="hidden" id="orientationPrompt">
    <div class="col padded">
      <div class="row centered padded">
        <p>Please reorient your device</p>
      </div>
      <!-- <div class="row centered padded">
        <img src="./img/landscape.png" alt="Landscape Orientation is okay" />
      </div>
      <div class="row centered padded">
        <img src="./img/portrait.png" alt="Portrait Orientation is not okay" />
      </div> -->
      <div class="row centered padded">
        <img src="./img/combined.png" alt="Hold your phone in landscape orientation">
      </div>
    </div>
  </div>

  <div id="welcomeScreen" class="screen">
    <div class="row centered">
      <h1>Welcome to DomeDagen</h1>
    </div>
    <div class="row">
      <div class="col padded">
        <div id="nameInputContainer" class="padded">
          <p class="hidden" id="charLimitMsg">Player name cannot exceed 20 characters</p>
          <input type="text" id="lname" name="lname" placeholder="Enter your name..." oninput="handleTextInputChange()">
        </div>
        <div class="row padded">
          <button id="connect" class="disabled" disabled="true" onclick="sendName()">Connect</button>
        </div>
      </div>
    </div>
    <!-- Add connection to get name in input, in initialize() function -->
    <!-- <div id="debug-output">Debug info</div> -->
  </div>

  <div id="waitingScreen" class="screen">
    <div class="col">
      <div class="row centered">
        <h1>This is your character</h1>
      </div>
      <div class="row centered">
        <object class="padded" id="playerCharacterSVG" data="./img/diver.svg" type="image/svg+xml"></object>
      </div>
    </div>

    <div class="col centered">
      <p>Waiting page information....</p>
    </div>
  </div>

  <div class="screen centered" id="gameRunningScreen">
    <div class="row centered">
      <p>Score: <span id="currentScore">100</span></p>
      <div id="playerCharacter">
        <p>Your character has these colours</p>
        <!-- TODO: SVG illustration for the character -->
        <div class="characterInfoContainer">
          <div class="playerColours" id="primaryColour"></div>
          <div class="playerColours" id="secondaryColour"></div>
        </div>
      </div>
      <!-- <div id="steeringInstruction">
        Animation or similar graphic to show steering controls
        <p>Tilt to steer</p>
      </div>
      <button>Hold to swim</button> -->
    </div>
    <canvas id="joystickArea">
    </canvas>
  </div>

  <div class="screen" id="gameOverScreen">
    <div class="col centered">
      <h1>Game Over</h1>
      <div class="centered padded" id="finalScoreCard">
        <h2>Final Score</h2>
        <p id="finalScore">1000</p>
      </div>
    </div>
  </div>

  <script type="text/javascript" src="./js/joystick.js"></script>
  <script type="text/javascript" src="./js/playerColours.js"></script>

</body>

</html>
